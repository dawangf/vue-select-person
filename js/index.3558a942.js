(function(e){function t(t){for(var n,i,s=t[0],a=t[1],c=t[2],u=0,h=[];u<s.length;u++)i=s[u],Object.prototype.hasOwnProperty.call(l,i)&&l[i]&&h.push(l[i][0]),l[i]=0;for(n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n]);d&&d(t);while(h.length)h.shift()();return o.push.apply(o,c||[]),r()}function r(){for(var e,t=0;t<o.length;t++){for(var r=o[t],n=!0,s=1;s<r.length;s++){var a=r[s];0!==l[a]&&(n=!1)}n&&(o.splice(t--,1),e=i(i.s=r[0]))}return e}var n={},l={index:0},o=[];function i(t){if(n[t])return n[t].exports;var r=n[t]={i:t,l:!1,exports:{}};return e[t].call(r.exports,r,r.exports,i),r.l=!0,r.exports}i.m=e,i.c=n,i.d=function(e,t,r){i.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},i.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},i.t=function(e,t){if(1&t&&(e=i(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(i.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var n in e)i.d(r,n,function(t){return e[t]}.bind(null,n));return r},i.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return i.d(t,"a",t),t},i.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},i.p="";var s=window["webpackJsonp"]=window["webpackJsonp"]||[],a=s.push.bind(s);s.push=t,s=s.slice();for(var c=0;c<s.length;c++)t(s[c]);var d=a;o.push([0,"chunk-vendors"]),r()})({0:function(e,t,r){e.exports=r("c31f")},1389:function(e,t,r){var n=r("a1a8");t=n(!1),t.push([e.i,".selector-tree{display:flex;justify-content:space-between;flex-wrap:wrap;padding:20px;border:1px solid #dcdfe6;box-sizing:border-box}.selector-tree .w50p{width:49%}.selector-tree .btns{margin-top:10px;width:100%;text-align:right}.selector-tree-content{margin-top:15px;height:300px;padding:10px 5px 10px 10px;border:1px solid #dcdfe6}.selector-tree-content .el-tree{width:100%;height:100%}.selector-tree-content.result{margin-top:0;height:355px}.selector-tree-content.result .result-wrap{height:100%;overflow:auto}.selector-tree-content.result .result-wrap .cell{display:flex;justify-content:space-between;align-items:center;padding-left:15px;color:#000;line-height:35px}.selector-tree-content.result .result-wrap .cell-content{overflow:hidden;text-overflow:ellipsis;white-space:nowrap}.selector-tree-content.result .result-wrap .cell .el-icon-close{padding:0 10px;color:#000;font-size:18px;cursor:pointer}.selector-tree-content.result .result-wrap .empty-block{position:relative;min-height:60px;text-align:center;width:100%;height:100%;color:#909399;font-size:14px}",""]),e.exports=t},"13ed":function(e,t,r){var n=r("1389");"string"===typeof n&&(n=[[e.i,n,""]]),n.locals&&(e.exports=n.locals);var l=r("85cb").default;l("5e7c703a",n,!0,{sourceMap:!1,shadowMode:!1})},"42b1":function(e,t,r){"use strict";var n=r("994f"),l=r.n(n);l.a},"95d3":function(e,t,r){"use strict";var n=r("13ed"),l=r.n(n);l.a},"994f":function(e,t,r){var n=r("f6d2");"string"===typeof n&&(n=[[e.i,n,""]]),n.locals&&(e.exports=n.locals);var l=r("85cb").default;l("3fb41053",n,!0,{sourceMap:!1,shadowMode:!1})},c31f:function(e,t,r){"use strict";r.r(t);r("a133"),r("ed0d"),r("f09c"),r("e117");var n=r("a593"),l=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{attrs:{id:"app"}},[r("h2",[e._v("人员选择器")]),r("select-person",{attrs:{data:e.data}})],1)},o=[],i={name:"App",data:function(){return{data:[{id:1,label:"一级 1",children:[{id:4,label:"二级 1-1",children:[{id:9,label:"三级 1-1-1"},{id:10,label:"三级 1-1-2"}]}]},{id:2,label:"一级 2",children:[{id:5,label:"二级 2-1"},{id:6,label:"二级 2-2"}]},{id:3,label:"一级 3",children:[{id:7,label:"二级 3-1"},{id:8,label:"二级 3-2"}]}],defaultProps:{children:"children",label:"label"}}}},s=i,a=(r("42b1"),r("9ca4")),c=Object(a["a"])(s,l,o,!1,null,null,null),d=c.exports,u=(r("053b"),function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"selector-tree"},[r("div",{staticClass:"w50p"},[r("el-input",{attrs:{placeholder:e.placeholder},model:{value:e.filterText,callback:function(t){e.filterText=t},expression:"filterText"}}),r("div",{staticClass:"selector-tree-content"},[r("el-tree",{ref:"tree",staticClass:"filter-tree",attrs:{"empty-text":e.emptyText,data:e.data,props:e.defaultProps,"show-checkbox":e.showCheckbox,"node-key":e.nodeKey,"default-checked-keys":e.checkedKeys,"highlight-current":!e.showCheckbox,"current-node-key":e.currentNodeKey,"filter-node-method":e.filterNode,"default-expand-all":""},on:{"node-click":e.handleNodeClick,"check-change":e.handleCheckChange,check:e.handleCheck}})],1)],1),r("div",{staticClass:"w50p"},[r("div",{staticClass:"selector-tree-content result"},[r("div",{staticClass:"result-wrap"},[e._l(e.resultList,(function(t){return r("div",{key:t[e.nodeKey],staticClass:"cell"},[r("div",{staticClass:"cell-content",attrs:{title:t[e.defaultProps.label]}},[e._v(e._s(t[e.defaultProps.label]))]),r("i",{staticClass:"el-icon-close",on:{click:function(r){return e.removeResult(t)}}})])})),e.resultList&&!e.resultList.length?r("div",{staticClass:"el-tree__empty-block"},[r("span",{staticClass:"el-tree__empty-text"},[e._v(e._s(e.emptyText))])]):e._e()],2)])]),r("div",{staticClass:"btns"},[r("el-button",{attrs:{type:"primary"},on:{click:e.handerSure}},[e._v("确定")])],1)])}),h=[],f=(r("dbb3"),r("fe59"),r("ecb4"),r("2eeb"),r("08ba"),r("f923"),r("2984"),r("7794")),p=r.n(f),b=(r("e8bd"),r("3f00")),y=r.n(b),g=(r("b764"),r("77bb")),v=r.n(g),x=(r("8fa7"),{name:"selectPerson",data:function(){return{isVisible:this.visible,resultList:this.defaultChecked,parentNodes:[],filterText:""}},props:{visible:{type:Boolean,default:!1},title:{type:String,default:"人员选择器"},placeholder:{type:String,default:"请输入姓名/部门搜索"},emptyText:{type:String,default:"暂无数据"},nodeKey:{type:String,default:"id"},showCheckbox:{type:Boolean,default:!0},data:{type:Array,default:function(){return[]}},defaultProps:{type:Object,default:function(){return{children:"children",label:"label"}}},defaultChecked:{type:Array,default:function(){return[]}}},watch:{filterText:function(e){this.$refs.tree.filter(e)},visible:function(e){this.isVisible=e}},computed:{checkedKeys:function(){var e=this;return this.defaultChecked.map((function(t){return t[e.nodeKey]}))},currentNodeKey:function(){var e="";return!this.showCheckbox&&this.defaultChecked&&this.defaultChecked.length&&(e=this.defaultChecked[0][this.nodeKey]),e}},components:{elInput:v.a,elButton:y.a,elTree:p.a},mounted:function(){this.parentNodes=this.filterParent(this.data),console.log("data:",this.data,this.parentNodes)},methods:{filterParent:function(e){var t=this,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],n=this.defaultProps["children"];return e.forEach((function(e){e[n]&&e[n].length&&(t.filterParent(e[n],r),r.push(e))})),r},closeDialog:function(){console.log("closeDialog:"),this.$emit("update:visible",!1),this.$emit("closeDialog")},handerSure:function(){console.error("resultList",this.resultList),this.$emit("update:visible",!1),this.$emit("check-change",this.resultList)},removeResult:function(e){var t=this;console.error("this.removeResult",e),this.showCheckbox||this.$refs.tree.setCurrentKey(),this.resultList=this.resultList.filter((function(r){return r[t.nodeKey]!==e[t.nodeKey]})),this.$refs.tree.setChecked(e[this.nodeKey],!1,!0),console.log("this.tmpCheckedKeys:",this.resultList)},handleNodeClick:function(e){console.log("this.currentNodeKey",this.currentNodeKey),console.log(e),this.showCheckbox||(this.resultList=[],this.resultList.push(e))},handleCheckChange:function(e,t,r){console.log("handleCheckChange:",e,t,r)},handleCheck:function(e,t){var r=this;console.log(e,"data",t),this.parentNodes.forEach((function(e){t.checkedNodes=t.checkedNodes.filter((function(t){return t[r.nodeKey]!==e[r.nodeKey]}))})),this.resultList=t.checkedNodes,console.error("未选中",this.$refs.tree.getHalfCheckedKeys())},filterNode:function(e,t){return!e||-1!==t[this.defaultProps.label].indexOf(e)}}}),k=x,m=(r("95d3"),Object(a["a"])(k,u,h,!1,null,null,null)),w=m.exports;w.install=function(e){e.component(w.name,w)};var C=w;n["default"].use(C),n["default"].config.productionTip=!1,new n["default"]({render:function(e){return e(d)}}).$mount("#app")},f6d2:function(e,t,r){var n=r("a1a8");t=n(!1),t.push([e.i,"#app{font-family:Avenir,Helvetica,Arial,sans-serif;-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale;text-align:center;color:#2c3e50;margin-top:60px}",""]),e.exports=t}});
//# sourceMappingURL=index.3558a942.js.map